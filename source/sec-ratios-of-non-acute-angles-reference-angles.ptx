<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="sec-ratios-of-non-acute-angles-reference-angles">
  <title>Ratios of Non-Acute Angles, Reference Angles</title>

  <introduction>
    <p>
      Introduction
    </p>
  </introduction>

  <subsection>
    <title></title>
    <p>
      This is a subsection.
    </p>
    <exercise
      component="interactive">
      <title>Evaluate Exact Trigonometric Values</title>

      <statement>
        <p>
          Evaluate <m><eval object="question"/></m> exactly, for example
          <m>\frac{\sqrt{2}}{2}</m> or <m>-1</m>.
        </p>
        <fillin mode="math" name="ans" ansobj="answer" width="7"/>
      </statement>
  
      <setup seed="trig-exact-seed">
        <setupScript><![CDATA[
          function pick(arr){ return arr[Math.floor(RNG.random()*arr.length)]; }
          const degAngles = [0,30,45,60,90,120,135,150,180,210,225,240,270,300,315,330];
          const radAngles = ["0","\\pi/6","\\pi/4","\\pi/3","\\pi/2","2\\pi/3","3\\pi/4",
                             "5\\pi/6","\\pi","7\\pi/6","5\\pi/4","4\\pi/3","3\\pi/2",
                             "5\\pi/3","7\\pi/4","11\\pi/6"];
          const core    = ["\\sin","\\cos"];
          const extra   = ["\\tan","\\csc","\\sec","\\cot"];
          const useDeg     = true;    // true→degrees, false→radians
          const allowExtra = true;    // include tan + recipros
          const allowBig   = true;    // allow <0 or >360° (or 2π)
  
          let poolA = useDeg ? degAngles.slice() : radAngles.slice();
          if(allowBig){
            const up   = a => useDeg ? (a+360)     : a+"+2\\pi";
            const down = a => useDeg ? (a-360)     : a+"-2\\pi";
            poolA = poolA.concat(poolA.map(up), poolA.map(down));
          }
          const poolF = core.concat(allowExtra ? extra : []);
  
          const f = pick(poolF), a = pick(poolA);
          v.question = f + "(" + a + ")";
          const table = {
            "\\sin(30)": "1/2",    "\\cos(30)": "√3/2",
            "\\sin(45)": "√2/2",   "\\cos(45)": "√2/2",
            "\\tan(45)": "1",      "\\csc(30)": "2",
            "\\sec(60)": "2/√3",   "\\cot(45)": "1"
          };
          v.answer = table[v.question] || "0";
        ]]></setupScript>
      </setup>
  
      <evaluation>
        <evaluate>
          <jscmp>return simplify(ans) === simplify(v.answer);</jscmp>
          <feedback>Correct!</feedback>
        </evaluate>
      </evaluation>
  
      <solution>
        <p>
          <m><eval object="question"/></m> = <m><eval object="answer"/></m>.
        </p>
      </solution>
    </exercise> 
  </subsection>
  

</section>